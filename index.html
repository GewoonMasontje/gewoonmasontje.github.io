<!doctype html>
<script>
document.addEventListener('DOMContentLoaded', () => {
    document.title = 'Bestanden';

    const makeAudio = () => {
        const a = document.createElement('audio');
        a.id = 'standaardAudio';
        a.controls = true;
        a.preload = 'auto';
        a.innerHTML = '<source src="geluid.mp3" type="audio/mpeg">Je browser ondersteunt geen HTML5-audio.';
        return a;
    };

    const makeVideo = () => {
        const v = document.createElement('video');
        v.id = 'standaardVideo';
        v.controls = true;
        v.width = 640;
        v.height = 360;
        v.innerHTML = '<source src="video.mp4" type="video/mp4">Je browser ondersteunt geen HTML5-video.';
        return v;
    };

    // Voeg elementen toe aan body als ze nog niet bestaan
    if (!document.getElementById('standaardAudio')) document.body.appendChild(makeAudio());
    if (!document.getElementById('standaardVideo')) document.body.appendChild(makeVideo());
});
</script>
<html lang="nl">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Intro</title>
    <style>
        html,body{height:100%;margin:0;background:#000;display:flex;align-items:center;justify-content:center}
        video{max-width:100%;max-height:100%;display:block}
        .controls{position:fixed;left:10px;bottom:10px;color:#fff;font-family:system-ui,Segoe UI,Roboto,Arial}
    </style>
</head>
<body>
    <!-- Video bestand: intro.mp4 (zelfde map als deze index.html) -->
    <video id="introVideo" controls playsinline preload="metadata">
        <source src="intro.mp4" type="video/mp4">
        Je browser ondersteunt geen HTML5-video.
    </video>

    <!-- Geluidsbestand: verhaal.mp4 (zelfde map als deze index.html) -->
    <audio id="verhaalAudio" preload="auto">
        <source src="verhaal.mp4" type="audio/mp4">
        Je browser ondersteunt geen HTML5-audio.
    </audio>

    <div class="controls">Speel de video om het geluid te starten</div>

    <script>
        const video = document.getElementById('introVideo');
        const audio = document.getElementById('verhaalAudio');

        // Start/stop audio gekoppeld aan video play/pause (gebruikersgestuurde actie vereist)
        video.addEventListener('play', () => { audio.play().catch(()=>{}); });
        video.addEventListener('pause', () => { audio.pause(); });
        video.addEventListener('ended', () => { audio.pause(); audio.currentTime = 0; });

        // Als gebruiker eerst het geluid wil bedienen, toon audio-controls bij interactie
        audio.addEventListener('play', () => {
            if (audio.controls === false) audio.controls = true;
        });
    </script>
</body>
</html>
